{
  "permissions": {
    "allow": [
      "Bash(npx nx list:*)",
      "Bash(npx nx show:*)",
      "Bash(curl -X POST http://localhost:3000/auth/login -H \"Content-Type: application/json\" -d '{\"\"\"\"username\"\"\"\": \"\"\"\"tonyh\"\"\"\", \"\"\"\"password\"\"\"\": \"\"\"\"123zXc_-\"\"\"\"}')",
      "Bash(curl -H \"Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiI2OGRjZjM2NWY2YTkyYzBkNDkxMWI2MTkiLCJ1c2VybmFtZSI6InRvbnloIiwic3RhdHVzIjoiYWN0aXZlIiwiaWF0IjoxNzU5MzExMzYzLCJleHAiOjE3NTkzMTQ5NjN9.mSG2VWR7LIgoGItcW2g2yuNr21xOy5AhKcoAnO34jqw\" http://localhost:3000/auth/verify-token)",
      "Bash(npx nx serve:*)",
      "Bash(curl:*)",
      "Bash(lsof:*)",
      "Bash(xargs kill:*)",
      "Bash(killall:*)",
      "Bash(TOKEN=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiI2OGRjZjM2NWY2YTkyYzBkNDkxMWI2MTkiLCJ1c2VybmFtZSI6InRvbnloIiwic3RhdHVzIjoiYWN0aXZlIiwicm9sZXMiOlsidW5pdmVyc2Uub3duZXIiXSwib3JnSWQiOiI2OGRkMDViMTc1ZDllM2MxN2JmOTdmNjAiLCJncm91cElkIjoiIiwiYWdlbnRJZCI6IiIsImFwcElkIjoiIiwiaWF0IjoxNzU5MzE5OTQyLCJleHAiOjE3NTkzMjM1NDJ9.aaTFtzeUi--awKR3Qy1mvRxR1W2wigNPp4S9vNmrH4Y\")",
      "Bash(printf '{\"\"\"\"username\"\"\"\":\"\"\"\"tonyh\"\"\"\",\"\"\"\"password\"\"\"\":\"\"\"\"NewPass123!\"\"\"\"}')",
      "Bash(node:*)",
      "Bash(npm install:*)",
      "Bash(find:*)",
      "Bash(git add:*)",
      "Bash(git commit:*)",
      "Bash(/usr/workspace/repos/hydra-services/test-rbac.sh)",
      "Bash(python3:*)",
      "Bash(CATEGORY_ID=\"68f1d03f81d7fb554e63e4d3\")",
      "Bash(mongosh:*)",
      "Bash(npx nx build:*)",
      "Bash(TOKEN=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiI2OGRjZjM2NWY2YTkyYzBkNDkxMWI2MTkiLCJ1c2VybmFtZSI6InRvbnloIiwic3RhdHVzIjoiYWN0aXZlIiwicm9sZXMiOlsidW5pdmVyc2Uub3duZXIiXSwib3JnSWQiOiI2OGRkMDViMTc1ZDllM2MxN2JmOTdmNjAiLCJncm91cElkIjoiIiwiYWdlbnRJZCI6IiIsImFwcElkIjoiIiwiaWF0IjoxNzYwNjc2Mjg2LCJleHAiOjE3NjA2Nzk4ODZ9.TW575RMvSNKUEykXj9Oh9UkPjfKxjm7_SjeteLDJU5Y\")",
      "Bash(TOKEN=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiI2OGRjZjM2NWY2YTkyYzBkNDkxMWI2MTkiLCJ1c2VybmFtZSI6InRvbnloIiwic3RhdHVzIjoiYWN0aXZlIiwicm9sZXMiOlsidW5pdmVyc2Uub3duZXIiXSwib3JnSWQiOiI2OGRkMDViMTc1ZDllM2MxN2JmOTdmNjAiLCJncm91cElkIjoiIiwiYWdlbnRJZCI6IiIsImFwcElkIjoiIiwiaWF0IjoxNzYwNjgzMTY0LCJleHAiOjE3NjA2ODY3NjR9.hKBVuFtbQ-CpGy3USPMl3rCMAOqa7SY95SwMuh-0B5s\")",
      "Bash(echo:*)",
      "Bash(TOKEN=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiI2OGRjZjM2NWY2YTkyYzBkNDkxMWI2MTkiLCJ1c2VybmFtZSI6InRvbnloIiwic3RhdHVzIjoiYWN0aXZlIiwicm9sZXMiOlsidW5pdmVyc2Uub3duZXIiXSwib3JnSWQiOiI2OGRkMDViMTc1ZDllM2MxN2JmOTdmNjAiLCJncm91cElkIjoiIiwiYWdlbnRJZCI6IiIsImFwcElkIjoiIiwiaWF0IjoxNzYwNjgzODIwLCJleHAiOjE3NjA2ODc0MjB9.8yzZvyWESV-f0_MS_sBCJ4eIURIdoEICqs4PeOZZqCw\")",
      "Bash(npx nx reset)",
      "Bash(mkdir:*)",
      "Bash(npx tsc:*)",
      "Bash(cat:*)",
      "Bash(TOKEN=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiI2OGRjZjM2NWY2YTkyYzBkNDkxMWI2MTkiLCJ1c2VybmFtZSI6InRvbnloIiwic3RhdHVzIjoiYWN0aXZlIiwicm9sZXMiOlsidW5pdmVyc2Uub3duZXIiXSwib3JnSWQiOiI2OGRkMDViMTc1ZDllM2MxN2JmOTdmNjAiLCJncm91cElkIjoiIiwiYWdlbnRJZCI6IiIsImFwcElkIjoiIiwiaWF0IjoxNzYwNzMyMDkzLCJleHAiOjE3NjA3MzU2OTN9.VmOZMOvRSUWSk5DmhNvSGn0U5WD_LkpcJ5ZJmowKQ1E\")",
      "Bash(TOKEN=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiI2OGRjZjM2NWY2YTkyYzBkNDkxMWI2MTkiLCJ1c2VybmFtZSI6InRvbnloIiwic3RhdHVzIjoiYWN0aXZlIiwicm9sZXMiOlsidW5pdmVyc2Uub3duZXIiXSwib3JnSWQiOiI2OGRkMDViMTc1ZDllM2MxN2JmOTdmNjAiLCJncm91cElkIjoiIiwiYWdlbnRJZCI6IiIsImFwcElkIjoiIiwiaWF0IjoxNzYwNzU1ODYxLCJleHAiOjE3NjA3NTk0NjF9.rCgel96kW0t9FBqnhO3MGrZVjHGPg6Flh-FtdA-u3xg\")",
      "Bash(TOKEN=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiI2OGRjZjM2NWY2YTkyYzBkNDkxMWI2MTkiLCJ1c2VybmFtZSI6InRvbnloIiwic3RhdHVzIjoiYWN0aXZlIiwicm9sZXMiOlsidW5pdmVyc2Uub3duZXIiXSwib3JnSWQiOiI2OGRkMDViMTc1ZDllM2MxN2JmOTdmNjAiLCJncm91cElkIjoiIiwiYWdlbnRJZCI6IiIsImFwcElkIjoiIiwiaWF0IjoxNzYwNzU2ODUyLCJleHAiOjE3NjA3NjA0NTJ9.HlPiTlhVCl9f9emf8JxuJKK6CGzf9CxMqa_-5iLKIu8\")",
      "Bash(TOKEN=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiI2OTE1YTI1M2YzYzNlZjQxYzc0NzMzZjIiLCJ1c2VybmFtZSI6ImFkbWluQHgtb3IuY2xvdWQiLCJzdGF0dXMiOiJhY3RpdmUiLCJyb2xlcyI6WyJvcmdhbml6YXRpb24ub3duZXIiXSwib3JnSWQiOiI2OTE1YTIzZGYzYzNlZjQxYzc0NzMzZWUiLCJncm91cElkIjoiIiwiYWdlbnRJZCI6IiIsImFwcElkIjoiIiwiaWF0IjoxNzYzNTk1MzI4LCJleHAiOjE3NjM1OTg5Mjh9.UVZJZ8BLKRjT9wCur13vyk4r7mg6GWnTCtBu2fzOvwo\")",
      "Bash(__NEW_LINE__ curl -X POST http://localhost:3003/api/instructions )",
      "Bash(__NEW_LINE__ curl -X GET \"http://localhost:3003/api/instructions?page=1&limit=10\" )",
      "Bash(TOKEN=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiI2OTFlYmEwODUxN2Y5MTc5NDNhZTFmYTEiLCJ1c2VybmFtZSI6ImFkbWluQHgtb3IuY2xvdWQiLCJzdGF0dXMiOiJhY3RpdmUiLCJyb2xlcyI6WyJvcmdhbml6YXRpb24ub3duZXIiXSwib3JnSWQiOiI2OTFlYjllNjUxN2Y5MTc5NDNhZTFmOWQiLCJncm91cElkIjoiIiwiYWdlbnRJZCI6IiIsImFwcElkIjoiIiwiaWF0IjoxNzYzNjk4ODIxLCJleHAiOjE3NjM3MDI0MjF9.RuBOUo8thaBiYyF3BcjMLBttWbTU1_VfYkUFvcmrZDE\")",
      "Bash(__NEW_LINE__ curl -X POST http://localhost:3305/tools )",
      "Bash(TOKEN=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiI2OTFlYmEwODUxN2Y5MTc5NDNhZTFmYTEiLCJ1c2VybmFtZSI6ImFkbWluQHgtb3IuY2xvdWQiLCJzdGF0dXMiOiJhY3RpdmUiLCJyb2xlcyI6WyJvcmdhbml6YXRpb24ub3duZXIiXSwib3JnSWQiOiI2OTFlYjllNjUxN2Y5MTc5NDNhZTFmOWQiLCJncm91cElkIjoiIiwiYWdlbnRJZCI6IiIsImFwcElkIjoiIiwiaWF0IjoxNzYzNzA0MDc2LCJleHAiOjE3NjM3MDc2NzZ9.5pTBNsTdu6dDyMPbhI0p1yn4d0HsWHjCGHpqDga7hq0\")",
      "Bash(__NEW_LINE__ curl -X GET \"http://localhost:3305/tools?page=1&limit=10\" )",
      "Bash(__NEW_LINE__ curl -X GET \"http://localhost:3305/tools/69200a13f752ede5f39a9d0a\" )",
      "Bash(__NEW_LINE__ curl -X PATCH \"http://localhost:3305/tools/69200a13f752ede5f39a9d0a\" )",
      "Bash(__NEW_LINE__ curl -X DELETE \"http://localhost:3305/tools/69200aa65917339574566ed8\" )",
      "Bash(TOKEN=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiI2OTFlYmEwODUxN2Y5MTc5NDNhZTFmYTEiLCJ1c2VybmFtZSI6ImFkbWluQHgtb3IuY2xvdWQiLCJzdGF0dXMiOiJhY3RpdmUiLCJyb2xlcyI6WyJvcmdhbml6YXRpb24ub3duZXIiXSwib3JnSWQiOiI2OTFlYjllNjUxN2Y5MTc5NDNhZTFmOWQiLCJncm91cElkIjoiIiwiYWdlbnRJZCI6IiIsImFwcElkIjoiIiwiaWF0IjoxNzYzNzA5MTc5LCJleHAiOjE3NjM3MTI3Nzl9.bIdvvjX_f_58t5BYlQDCqvoPqrV3mt0taa4-0Hvuqiw\")",
      "Bash(__NEW_LINE__ curl -X POST http://localhost:3305/models )",
      "Bash(TOKEN=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiI2OTFlYmEwODUxN2Y5MTc5NDNhZTFmYTEiLCJ1c2VybmFtZSI6ImFkbWluQHgtb3IuY2xvdWQiLCJzdGF0dXMiOiJhY3RpdmUiLCJyb2xlcyI6WyJvcmdhbml6YXRpb24ub3duZXIiXSwib3JnSWQiOiI2OTFlYjllNjUxN2Y5MTc5NDNhZTFmOWQiLCJncm91cElkIjoiIiwiYWdlbnRJZCI6IiIsImFwcElkIjoiIiwiaWF0IjoxNzYzNzEyOTgzLCJleHAiOjE3NjM3MTY1ODN9.loIFlVcyfHrs1YRsH471r2UMX4fAYucnXGe7BRK3jAo\")",
      "Bash(TOKEN=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiI2OTFlYmEwODUxN2Y5MTc5NDNhZTFmYTEiLCJ1c2VybmFtZSI6ImFkbWluQHgtb3IuY2xvdWQiLCJzdGF0dXMiOiJhY3RpdmUiLCJyb2xlcyI6WyJvcmdhbml6YXRpb24ub3duZXIiXSwib3JnSWQiOiI2OTFlYjllNjUxN2Y5MTc5NDNhZTFmOWQiLCJncm91cElkIjoiIiwiYWdlbnRJZCI6IiIsImFwcElkIjoiIiwiaWF0IjoxNzYzNzEyOTgzLCJleHAiOjE3NjM3MTY1ODN9.loIFlVcyfHrs1YRsH471r2UMX4fAYucnXGe7BRK3jAo\" curl -s \"http://localhost:3305/models?page=1&limit=10\" -H \"Authorization: Bearer $TOKEN\")",
      "Bash(chmod:*)",
      "Bash(scripts/seed-models.sh:*)",
      "Bash(./scripts/seed-nodes.sh:*)",
      "Bash(export:*)",
      "Bash(# Get fresh token and save node ID\nRESPONSE=$(curl -s -X POST ''https://api.x-or.cloud/dev/iam-v2/auth/login'' \\\n  -H ''Content-Type: application/json'' \\\n  -d @- <<'EOFLOGIN'\n{\n  \"username\": \"admin@x-or.cloud\",\n  \"password\": \"NewPass123!\"\n}\nEOFLOGIN\n)\n\nTOKEN=$(echo \"\"$RESPONSE\"\" | python3 -c \"\"import sys, json; print(json.load(sys.stdin)[''accessToken''])\"\")\nexport NODE_ID=\"\"69396100cd71623c7bbfbfee\"\"\n\necho \"\"=== Step 2.2: Verify Node Registration ===\"\"\necho \"\"\"\"\necho \"\"1. Get specific node:\"\"\ncurl -s -X GET \"\"http://localhost:3305/nodes/$NODE_ID\"\" \\\n  -H \"\"Authorization: Bearer $TOKEN\"\" | python3 -m json.tool\n\necho \"\"\"\"\necho \"\"2. List all nodes:\"\"\ncurl -s -X GET \"\"http://localhost:3305/nodes?page=1&limit=10\"\" \\\n  -H \"\"Authorization: Bearer $TOKEN\"\" | python3 -m json.tool)",
      "Bash(# Get fresh token\nRESPONSE=$(curl -s -X POST ''https://api.x-or.cloud/dev/iam-v2/auth/login'' \\\n  -H ''Content-Type: application/json'' \\\n  -d @- <<'EOFLOGIN'\n{\n  \"username\": \"admin@x-or.cloud\",\n  \"password\": \"NewPass123!\"\n}\nEOFLOGIN\n)\n\nTOKEN=$(echo \"\"$RESPONSE\"\" | python3 -c \"\"import sys, json; print(json.load(sys.stdin)[''accessToken''])\"\")\nNODE_ID=\"\"69396100cd71623c7bbfbfee\"\"\n\necho \"\"=== Step 3.1: Generate JWT Token for Node ===\"\"\necho \"\"\"\"\ncurl -s -X POST \"\"http://localhost:3305/nodes/$NODE_ID/token\"\" \\\n  -H \"\"Authorization: Bearer $TOKEN\"\" \\\n  -H \"\"Content-Type: application/json\"\" \\\n  -d @- <<'EOF'\n{\n  \"expiresIn\": 31536000\n}\nEOF | python3 -m json.tool)",
      "Bash(# Get fresh token\nRESPONSE=$(curl -s -X POST ''https://api.x-or.cloud/dev/iam-v2/auth/login'' \\\n  -H ''Content-Type: application/json'' \\\n  -d @- <<'EOFLOGIN'\n{\n  \"username\": \"admin@x-or.cloud\",\n  \"password\": \"NewPass123!\"\n}\nEOFLOGIN\n)\n\nTOKEN=$(echo \"\"$RESPONSE\"\" | python3 -c \"\"import sys, json; print(json.load(sys.stdin)[''accessToken''])\"\")\nNODE_ID=\"\"69396100cd71623c7bbfbfee\"\"\n\n# Generate token and extract install script\nTOKEN_RESPONSE=$(curl -s -X POST \"\"http://localhost:3305/nodes/$NODE_ID/token\"\" \\\n  -H \"\"Authorization: Bearer $TOKEN\"\" \\\n  -H \"\"Content-Type: application/json\"\" \\\n  -d ''{\"\"expiresIn\"\": 31536000}'')\n\necho \"\"$TOKEN_RESPONSE\"\" | python3 -c \"\"\nimport sys, json\ndata = json.load(sys.stdin)\nscript = data.get(''installScript'', '''')\nprint(''=== Installation Script Preview ==='')\nprint(script[:500])\nprint(''...'')\nprint('''')\nprint(''Script contains:'')\nprint(''✓ AIOPS_NODE_TOKEN'' if ''AIOPS_NODE_TOKEN'' in script else ''✗ Missing token'')\nprint(''✓ AIOPS_CONTROLLER_ENDPOINT'' if ''AIOPS_CONTROLLER_ENDPOINT'' in script else ''✗ Missing endpoint'')\nprint(''✓ AIOPS_NODE_ID'' if ''AIOPS_NODE_ID'' in script else ''✗ Missing node ID'')\n\"\")",
      "Bash(# Get fresh token\nRESPONSE=$(curl -s -X POST ''https://api.x-or.cloud/dev/iam-v2/auth/login'' \\\n  -H ''Content-Type: application/json'' \\\n  -d @- <<'EOFLOGIN'\n{\n  \"username\": \"admin@x-or.cloud\",\n  \"password\": \"NewPass123!\"\n}\nEOFLOGIN\n)\n\nTOKEN=$(echo \"\"$RESPONSE\"\" | python3 -c \"\"import sys, json; print(json.load(sys.stdin)[''accessToken''])\"\")\n\necho \"\"=== Step 6.1: List All Nodes ===\"\"\ncurl -s -X GET \"\"http://localhost:3305/nodes?page=1&limit=10\"\" \\\n  -H \"\"Authorization: Bearer $TOKEN\"\" | python3 -m json.tool)",
      "Bash(# Get fresh token\nRESPONSE=$(curl -s -X POST ''https://api.x-or.cloud/dev/iam-v2/auth/login'' \\\n  -H ''Content-Type: application/json'' \\\n  -d @- <<'EOFLOGIN'\n{\n  \"username\": \"admin@x-or.cloud\",\n  \"password\": \"NewPass123!\"\n}\nEOFLOGIN\n)\n\nTOKEN=$(echo \"\"$RESPONSE\"\" | python3 -c \"\"import sys, json; print(json.load(sys.stdin)[''accessToken''])\"\")\n\necho \"\"=== Step 6.2: Filter Nodes by Status ===\"\"\necho \"\"\"\"\necho \"\"1. Pending nodes:\"\"\ncurl -s -X GET \"\"http://localhost:3305/nodes?filter[status]=pending\"\" \\\n  -H \"\"Authorization: Bearer $TOKEN\"\" | python3 -c \"\"import sys, json; data=json.load(sys.stdin); print(f\\\"\"Count: {len(data[''data''])}\\\"\"); print(f\\\"\"Statistics: {data[''statistics'']}\\\"\")\"\"\n\necho \"\"\"\"\necho \"\"2. Online nodes:\"\"\ncurl -s -X GET \"\"http://localhost:3305/nodes?filter[status]=online\"\" \\\n  -H \"\"Authorization: Bearer $TOKEN\"\" | python3 -c \"\"import sys, json; data=json.load(sys.stdin); print(f\\\"\"Count: {len(data[''data''])}\\\"\"); print(f\\\"\"Statistics: {data[''statistics'']}\\\"\")\"\"\n\necho \"\"\"\"\necho \"\"3. Offline nodes:\"\"\ncurl -s -X GET \"\"http://localhost:3305/nodes?filter[status]=offline\"\" \\\n  -H \"\"Authorization: Bearer $TOKEN\"\" | python3 -c \"\"import sys, json; data=json.load(sys.stdin); print(f\\\"\"Count: {len(data[''data''])}\\\"\"); print(f\\\"\"Statistics: {data[''statistics'']}\\\"\")\"\")",
      "Bash(# Get fresh token\nRESPONSE=$(curl -s -X POST ''https://api.x-or.cloud/dev/iam-v2/auth/login'' \\\n  -H ''Content-Type: application/json'' \\\n  -d @- <<'EOFLOGIN'\n{\n  \"username\": \"admin@x-or.cloud\",\n  \"password\": \"NewPass123!\"\n}\nEOFLOGIN\n)\n\nTOKEN=$(echo \"\"$RESPONSE\"\" | python3 -c \"\"import sys, json; print(json.load(sys.stdin)[''accessToken''])\"\")\n\necho \"\"=== Step 6.2: Filter by Status (pending) ===\"\"\ncurl -s -X GET \"\"http://localhost:3305/nodes?filter[status]=pending\"\" \\\n  -H \"\"Authorization: Bearer $TOKEN\"\" | python3 -m json.tool | head -30)",
      "Bash(# Get fresh token\nRESPONSE=$(curl -s -X POST ''https://api.x-or.cloud/dev/iam-v2/auth/login'' \\\n  -H ''Content-Type: application/json'' \\\n  -d @- <<'EOFLOGIN'\n{\n  \"username\": \"admin@x-or.cloud\",\n  \"password\": \"NewPass123!\"\n}\nEOFLOGIN\n)\n\nTOKEN=$(echo \"\"$RESPONSE\"\" | python3 -c \"\"import sys, json; print(json.load(sys.stdin)[''accessToken''])\"\")\n\necho \"\"=== Step 6.3: Sort and Paginate ===\"\"\necho \"\"\"\"\necho \"\"1. Sort by newest first (descending createdAt):\"\"\ncurl -s -X GET \"\"http://localhost:3305/nodes?sort=-createdAt&page=1&limit=5\"\" \\\n  -H \"\"Authorization: Bearer $TOKEN\"\" | python3 -c \"\"\nimport sys, json\ndata = json.load(sys.stdin)\nprint(f\\\"\"Total: {data[''pagination''][''total'']}\\\"\")\nprint(f\\\"\"Page: {data[''pagination''][''page'']}/{(data[''pagination''][''total'']-1)//data[''pagination''][''limit'']+1}\\\"\")\nfor node in data[''data'']:\n    print(f\\\"\"  - {node[''name'']}: {node[''createdAt'']}\\\"\")\n\"\"\n\necho \"\"\"\"\necho \"\"2. Sort by name:\"\"\ncurl -s -X GET \"\"http://localhost:3305/nodes?sort=name\"\" \\\n  -H \"\"Authorization: Bearer $TOKEN\"\" | python3 -c \"\"\nimport sys, json\ndata = json.load(sys.stdin)\nprint(f\\\"\"Total: {data[''pagination''][''total'']}\\\"\")\nfor node in data[''data'']:\n    print(f\\\"\"  - {node[''name'']} (status: {node[''status'']})\\\"\")\n\"\")",
      "Bash(# Get fresh token and test basic + sort\nRESPONSE=$(curl -s -X POST ''https://api.x-or.cloud/dev/iam-v2/auth/login'' \\\n  -H ''Content-Type: application/json'' \\\n  -d @- <<'EOFLOGIN'\n{\n  \"username\": \"admin@x-or.cloud\",\n  \"password\": \"NewPass123!\"\n}\nEOFLOGIN\n)\n\nTOKEN=$(echo \"\"$RESPONSE\"\" | python3 -c \"\"import sys, json; print(json.load(sys.stdin)[''accessToken''])\"\")\n\necho \"\"Test 1: Basic query (works)\"\"\ncurl -s -X GET \"\"http://localhost:3305/nodes\"\" -H \"\"Authorization: Bearer $TOKEN\"\" | head -10\n\necho \"\"\"\"\necho \"\"Test 2: With sort parameter\"\"\ncurl -s -X GET \"\"http://localhost:3305/nodes?sort=-createdAt\"\" -H \"\"Authorization: Bearer $TOKEN\"\" | head -10)",
      "Bash(# Get fresh token\nRESPONSE=$(curl -s -X POST ''https://api.x-or.cloud/dev/iam-v2/auth/login'' \\\n  -H ''Content-Type: application/json'' \\\n  -d @- <<'EOFLOGIN'\n{\n  \"username\": \"admin@x-or.cloud\",\n  \"password\": \"NewPass123!\"\n}\nEOFLOGIN\n)\n\nTOKEN=$(echo \"\"$RESPONSE\"\" | python3 -c \"\"import sys, json; print(json.load(sys.stdin)[''accessToken''])\"\")\nNODE_ID=\"\"69396100cd71623c7bbfbfee\"\"\n\necho \"\"=== Phase 7: Node Lifecycle Management ===\"\"\necho \"\"\"\"\necho \"\"Step 7.1: Update node name\"\"\ncurl -s -X PUT \"\"http://localhost:3305/nodes/$NODE_ID\"\" \\\n  -H \"\"Authorization: Bearer $TOKEN\"\" \\\n  -H \"\"Content-Type: application/json\"\" \\\n  -d ''{\"\"name\"\":\"\"gpu-worker-01-updated\"\"}'' | python3 -m json.tool | head -15)",
      "Bash(# Get fresh token\nRESPONSE=$(curl -s -X POST ''https://api.x-or.cloud/dev/iam-v2/auth/login'' \\\n  -H ''Content-Type: application/json'' \\\n  -d @- <<'EOFLOGIN'\n{\n  \"username\": \"admin@x-or.cloud\",\n  \"password\": \"NewPass123!\"\n}\nEOFLOGIN\n)\n\nTOKEN=$(echo \"\"$RESPONSE\"\" | python3 -c \"\"import sys, json; print(json.load(sys.stdin)[''accessToken''])\"\")\nNODE_ID=\"\"69396100cd71623c7bbfbfee\"\"\n\necho \"\"Step 7.2: Change node status to maintenance\"\"\ncurl -s -X PUT \"\"http://localhost:3305/nodes/$NODE_ID\"\" \\\n  -H \"\"Authorization: Bearer $TOKEN\"\" \\\n  -H \"\"Content-Type: application/json\"\" \\\n  -d ''{\"\"status\"\":\"\"maintenance\"\"}'' | python3 -c \"\"import sys, json; d=json.load(sys.stdin); print(f\\\"\"Status: {d[''status'']}, Name: {d[''name'']}\\\"\")\"\"\n\necho \"\"\"\"\necho \"\"Step 7.4: Soft delete node\"\"\ncurl -s -X DELETE \"\"http://localhost:3305/nodes/$NODE_ID\"\" \\\n  -H \"\"Authorization: Bearer $TOKEN\"\" | python3 -m json.tool)",
      "Bash(pkill:*)",
      "Bash(TOKEN=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiI2OTFlYmEwODUxN2Y5MTc5NDNhZTFmYTEiLCJ1c2VybmFtZSI6ImFkbWluQHgtb3IuY2xvdWQiLCJzdGF0dXMiOiJhY3RpdmUiLCJyb2xlcyI6WyJ1bml2ZXJzZS5vd25lciJdLCJvcmdJZCI6IjY5MWViOWU2NTE3ZjkxNzk0M2FlMWY5ZCIsImdyb3VwSWQiOiIiLCJhZ2VudElkIjoiIiwiYXBwSWQiOiIiLCJpYXQiOjE3NjU1MjcwNzEsImV4cCI6MTc2NTUzMDY3MX0.mL0EdhMqHruqEYlcvXXncAyFO3HUt5unI1jFOnYDq1s\" PROJECT_ID=\"693bd401e313d1c3edfb403d\")",
      "Bash(TOKEN=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiI2OTFlYmEwODUxN2Y5MTc5NDNhZTFmYTEiLCJ1c2VybmFtZSI6ImFkbWluQHgtb3IuY2xvdWQiLCJzdGF0dXMiOiJhY3RpdmUiLCJyb2xlcyI6WyJ1bml2ZXJzZS5vd25lciJdLCJvcmdJZCI6IjY5MWViOWU2NTE3ZjkxNzk0M2FlMWY5ZCIsImdyb3VwSWQiOiIiLCJhZ2VudElkIjoiIiwiYXBwSWQiOiIiLCJpYXQiOjE3NjU1MjcwNzEsImV4cCI6MTc2NTUzMDY3MX0.mL0EdhMqHruqEYlcvXXncAyFO3HUt5unI1jFOnYDq1s\")",
      "Bash(PROJECT_ID=\"693bd401e313d1c3edfb403d\":*)",
      "Bash(__NEW_LINE__ echo \"=== Test 1.2: List All Projects ===\")",
      "Bash(/Users/dzung/Code/hydra-byte/hydra-services/scripts/test-cbm.sh)",
      "Bash(/tmp/test-document-content.sh)",
      "Bash(/Users/dzung/Code/hydra-byte/hydra-services/scripts/test-agent-connection.sh:*)",
      "Bash(npx nx mcp:*)",
      "Bash(timeout 5 npx tsx:*)",
      "Bash(timeout 5 npx nx run:*)",
      "Bash(grep:*)",
      "Bash(/Users/dzung/Code/hydra-byte/hydra-services/scripts/test-mcp-server.sh:*)",
      "Bash(source .env)",
      "Bash(kill:*)",
      "Bash(TOKEN=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiI2OTQwZGI3MGQ2NzA2NTI2MmMyZTE3ZWQiLCJ1c2VybmFtZSI6ImFnZW50OjY5NDBkYjcwZDY3MDY1MjYyYzJlMTdlZCIsInN0YXR1cyI6ImFjdGl2ZSIsInJvbGVzIjpbIm9yZ2FuaXphdGlvbi5vd25lciJdLCJvcmdJZCI6IjY5MWViOWU2NTE3ZjkxNzk0M2FlMWY5ZCIsImdyb3VwSWQiOiIiLCJhZ2VudElkIjoiNjk0MGRiNzBkNjcwNjUyNjJjMmUxN2VkIiwidXNlcklkIjoiIiwidHlwZSI6ImFnZW50IiwiaWF0IjoxNzY1OTQ4NDc1LCJleHAiOjE3NjYwMzQ4NzV9.VwrGeJ4e4hIEsVhjHoY1YkSj2bZ6v_IkmKL-HInNPT8\" echo \"=== Token Payload ===\" echo $TOKEN)",
      "Bash(1)"
    ],
    "deny": [],
    "ask": []
  }
}
